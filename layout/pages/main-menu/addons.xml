<root>
	<styles>
		<include src="file://{resources}/styles/main.scss" />
	</styles>
	<scripts>
		<include src="file://{scripts}/common/dev.ts" />
		<include src="file://{scripts}/pages/main-menu/addons.ts" />
	</scripts>

	<snippets>
		<snippet name="AddonEntrySnippet">
			<RadioButton class="addons__entry" group="AddonRadio">
				<Panel class="addons__entry__left">
					<!-- Addon icon cover -->
					<Image id="AddonCover" class="addons__entry__cover" textureheight="128" texturewidth="128" />

					<!-- Addon info; title, description, 'source' -->
					<Panel class="addons__entry__details">
						<Label id="AddonTitle" class="addons__entry__details__title" />
						<Label id="AddonSource" class="addons__entry__details__source" />
						<Label id="AddonDesc" class="addons__entry__details__desc" />
					</Panel>
				</Panel>
				<Panel class="addons__entry__right">
					<ToggleButton id="AddonEnable" class="checkbox addons__entry__checkbox" />
				</Panel>
			</RadioButton>
		</snippet>
		<snippet name="MountEntrySnippet">
			<Panel class="mounts__entry">
				<Image id="MountCover" class="mounts__entry__cover" scaling="stretch"/>
				<Panel class="mounts__entry__details">
					<Label id="MountTitle" class="mounts__entry__details__title" text="[PH] Mount Title" />
					<Label id="MountAppId" class="mounts__entry__details__appid" text="[PH] Mount AppID" />
				</Panel>
			</Panel>
		</snippet>
	</snippets>

	<Panel class="mainmenu__page flow-right">
		<Panel class="content__left">
			<Panel class="full-width flow-right mb-2">
				<RadioButton id="ViewAddonsBtn" class="button-mono button-mono__bigger fill-width mr-1" group="ContentViewType" onactivate="AddonManager.showPage()">
					<Image
						class="button-mono__icon"
						src="file://{images}/menu/p2ce/logo_plain.svg"
						scaling="stretch-to-fit-preserve-aspect"
						texturewidth="91"
						textureheight="130"
					/>
					<Panel class="button-mono__text-panel">
						<Label class="button-mono__text-panel__header" text="[HC] P2:CE Addons" />
						<Label class="button-mono__text-panel__subheader" text="[HC] Locally installed &amp; Steam Workshop content" />
					</Panel>
				</RadioButton>
				<RadioButton id="ViewMountsBtn" class="button-mono button-mono__bigger fill-width ml-1" group="ContentViewType" onactivate="MountManager.showPage()">
					<Image
						class="button-mono__icon"
						src="file://{images}/download.svg"
						scaling="stretch-to-fit-preserve-aspect"
						texturewidth="32"
						textureheight="32"
					/>
					<Panel class="button-mono__text-panel">
						<Label class="button-mono__text-panel__header" text="[HC] Mounted Games" />
						<Label class="button-mono__text-panel__subheader" text="[HC] Content from other installed games" />
					</Panel>
				</RadioButton>
			</Panel>
			<Panel id="AddonsPage" class="addons" onload="AddonManager.init()">
				<Panel class="addons__action-bar">
					<Button id="ReloadAll" class="button mr-2" onactivate="AddonManager.reloadAddonList()">
						<Image class="button__icon" texturewidth="32" textureheight="32" src="file://{images}/refresh.svg" />
					</Button>
					<ToggleButton id="ToggleAll" class="button togglebutton" onactivate="AddonManager.toggleAll()">
						<Image class="button__icon" texturewidth="32" textureheight="32" src="file://{images}/checkmark.svg" />
					</ToggleButton>

					<Panel class="horizontal-align-right flow-right">
						<Button onactivate="AddonManager.apply()" id="ApplyButton" class="button mr-2" disabled="true">
							<Label class="button__text" text="[HC] Apply" />
						</Button>
						<Button onactivate="AddonManager.cancel()" id="CancelButton" class="button" disabled="true">
							<Label class="button__text" text="[HC] Discard" />
						</Button>
					</Panel>
				</Panel>

				<!-- Addon list -->
				<Panel id="AddonContainer" class="addons__list" />
			</Panel>
			<Panel id="MountsPage" class="mounts" onload="MountManager.init()">
				<Panel class="mounts__disclaimer">
					<Panel class="horizontal-align-center vertical-align-center flow-right">
						<Image
							class="mounts__disclaimer__icon"
							src="file://{images}/info.svg"
							scaling="stretch-to-fit-preserve-aspect"
							texturewidth="32"
							textureheight="32"
						/>
						<Button class="vertical-align-center flow-down" onactivate="SteamOverlayAPI.OpenURL('https://wiki.stratasource.org/modding/overview/mounts')">
							<Label class="mounts__disclaimer__text" text="[HC] Configuring mounts is in development and currently unavailable." />
							<Label class="mounts__disclaimer__small-text" text="[HC] Click on this banner to view how to configure mounts manually on the Wiki" />
						</Button>
					</Panel>
				</Panel>
				<Panel id="MountContainer" class="mounts__list" />
			</Panel>
		</Panel>

		<Panel id="SelectedAddonPanel" class="selected-addon hide">
			<Panel class="flow-right full-width">
				<Image id="SelectedAddonCover" class="selected-addon__cover" textureheight="128" texturewidth="128" />
				<Panel class="flow-down vertical-align-center full-width">
					<Label id="SelectedAddonTitle" class="selected-addon__title" text="[PH] Addon Name" />
					<Label id="SelectedAddonAuthors" class="selected-addon__authors" text="[PH] Addon Authors" />
					<Panel class="flow-down full-width">
						<Button id="SelectedAddonView" class="mt-2 button-mono full-width" onactivate="AddonManager.viewSelectedOnSteam()">
							<Image
								class="button-mono__icon"
								src="file://{images}/icons/steam.svg"
								scaling="stretch-to-fit-preserve-aspect"
								texturewidth="32"
								textureheight="32"
							/>
							<Label class="button-mono__text" text="[HC] View On Steam" />
						</Button>
						<Panel id="SelectedAddonMapLauncher" class="flow-right full-width mt-2">
							<DropDown id="SelectedAddonMaps" class="dropdown-mono fill-width mr-2" menuclass="dropdown-menu">
								<Label text="MAP 1" id="SelectedAddonMapsEntry1" value="1" />
							</DropDown>
							<Button class="button-mono" onactivate="AddonManager.launchSelectedAddonMap()">
								<Image
									class="button-mono__icon"
									src="file://{images}/play.svg"
									scaling="stretch-to-fit-preserve-aspect"
									texturewidth="32"
									textureheight="32"
								/>
								<Label class="button-mono__text" text="[HC] Launch Map!" />
							</Button>
						</Panel>
					</Panel>
				</Panel>
			</Panel>
			<Panel class="selected-addon__description">
				<Label
					id="SelectedAddonDesc"
					class="selected-addon__description__text"
					text="[PH] Addon Description"
					html="true"
					loadimages="true"
				/>
			</Panel>
		</Panel>
	</Panel>
</root>
