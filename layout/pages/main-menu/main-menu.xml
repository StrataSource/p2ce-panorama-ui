<root>
	<styles>
		<include src="file://{resources}/styles/main.scss" />
	</styles>
	<scripts>
		<include src="file://{scripts}/common/dev.ts" />
		<include src="file://{scripts}/pages/main-menu/main-menu.ts" />
		<include src="file://{scripts}/util/dosa.ts" />
	</scripts>

	<snippets>
		<snippet name="MainMenuMovieSnippet">
			<Panel>
				<Movie
					id="MainMenuMovie"
					class="mainmenu__movie MainMenuModeOnly"
					src=""
					sound=""
					controls="none"
					repeat="true"
					hittest="false"
				>
				</Movie>
			</Panel>
		</snippet>
	</snippets>

	<MainMenu
		class="InitialDisplay MainMenuRootPanel"
		hittest="false"
		onload="MainMenu.onMainMenuLoaded()"
		useglobalcontext="false"
	>
		<!-- Vanity is not used but the engine needs this to exist -->
		<Panel id="MainMenuVanityParent" />

		<Panel id="MainMenuInput" class="mainmenu">
			

			<!-- Full page blur: used to blur everything below the drawer -->
			<Panel class="mainmenu__container">
				<!-- Movie background -->
				<Panel id="MainMenuMovieParent" class="mainmenu__background MainMenuModeOnly" />
				<!-- Static image background -->
				<Image id="MainMenuBackground" class="mainmenu__background MainMenuModeOnly" />
				<!-- Backbuffer blur: used to blur the backbuffer in the pause menu -->
				<BaseBlurTarget id="PauseMenuMainMenuBlur" class="mainmenu__pause-blur" blurrects="PauseMenuMainMenuContent">
					<!-- Backbuffer background -->
					<BackbufferImagePanel class="mainmenu__background PauseMenuModeOnly" />
				</BaseBlurTarget>

				<Panel id="PauseMenuMainMenuContent" class="mainmenu__pause-content-blur" />

				<Panel class="mainmenu__content">
					<Panel id="GradientBar" class="mainmenu__gradient-bar">
						<ModelPanel
							id="MainMenuModel"
							class="mainmenu__modelpanel MainMenuModeOnly"
							src="models/npcs/turret/turret.mdl"
							cubemap="cubemaps/cubemap_menu_model_bg.hdr"
							antialias="true"
							mouse_rotate="true"
						/>
						<Panel id="HomeControls" class="mainmenu__nav">
							<Image
								class="mainmenu__logo"
								src="file://{images}/logo.svg"
								textureheight="130"
								texturewidth="440"
								scaling="stretch-to-fit-x-preserve-aspect"
							/>
							<Panel class="mainmenu__nav__controls">
								<Button
									class="mainmenu__nav__btn MainMenuModeOnly"
									onactivate="MainMenu.navigateToPage('[HC] Featured', '[HC] Explore highlighted workshop content', false, 'main-menu/placeholder')"
								>
									<Panel class="vertical-align-center flow-down">
										<Label class="mainmenu__nav__btn__text" text="Featured" />
										<Label class="mainmenu__nav__btn__small-text" text="Explore highlighted workshop content" />
									</Panel>
								</Button>
								<Button class="mainmenu__nav__btn MainMenuModeOnly" onactivate="MainMenu.navigateToPage('[HC] Play', '[HC] Start a new experience', false, 'play-menu/main')">
									<Panel class="vertical-align-center flow-down">
										<Label class="mainmenu__nav__btn__text" text="Play" />
										<Label class="mainmenu__nav__btn__small-text" text="Start a new experience" />
									</Panel>
								</Button>
								<Button class="mainmenu__nav__btn PauseMenuModeOnly" onactivate="">
									<Panel class="vertical-align-center flow-down">
										<Label class="mainmenu__nav__btn__text" text="Resume Game" />
										<Label class="mainmenu__nav__btn__small-text" text="Close this menu &amp; return to the game" />
									</Panel>
								</Button>
								<Button class="mainmenu__nav__btn CampaignSelectedOnly" onactivate="">
									<Panel class="vertical-align-center flow-down">
										<Label class="mainmenu__nav__btn__text" text="Start New Game" />
										<Label class="mainmenu__nav__btn__small-text" text="Configure &amp; start a new game" />
									</Panel>
								</Button>
								<Button
									class="mainmenu__nav__btn mainmenu__nav__btn__no-gradient"
									onactivate=""
									onmouseover="MainMenu.onContinueMouseOver()"
									onmouseout="MainMenu.onContinueMouseOut()"
								>
									<Panel class="vertical-align-center flow-down">
										<Panel class="flow-right MainMenuModeOnly">
											<Label class="mainmenu__nav__btn__text" text="Continue" />
										</Panel>
										<Label class="mainmenu__nav__btn__small-text MainMenuModeOnly" text="Portal 2" />
										<Label class="mainmenu__nav__btn__text PauseMenuModeOnly" text="Load Last Save" />
										<Label class="mainmenu__nav__btn__small-text PauseMenuModeOnly" text="Load the latest save file" />
									</Panel>
								</Button>
								<Button class="mainmenu__nav__btn CampaignSelectedOnly" onactivate="">
									<Panel class="vertical-align-center flow-down">
										<Label class="mainmenu__nav__btn__text" text="Load Game" />
										<Label class="mainmenu__nav__btn__small-text" text="Load a previous game file" />
									</Panel>
								</Button>
								<Button class="mainmenu__nav__btn PauseMenuModeOnly" onactivate="">
									<Panel class="vertical-align-center flow-down">
										<Label class="mainmenu__nav__btn__text" text="Save Game" />
										<Label class="mainmenu__nav__btn__small-text" text="Save your progress" />
									</Panel>
								</Button>
								<Button class="mainmenu__nav__btn MainMenuModeOnly" onactivate="MainMenu.navigateToPage('[HC] Content', '[HC] Manage subscriptions &amp; mounted games', false, 'main-menu/addons')">
									<Panel class="vertical-align-center flow-down">
										<Label class="mainmenu__nav__btn__text" text="Content" />
										<Label class="mainmenu__nav__btn__small-text" text="Manage subscriptions &amp; mounted games" />
									</Panel>
								</Button>
								<Button class="mainmenu__nav__btn" onactivate="MainMenu.navigateToPage('[HC] Settings', '[HC] Tweak keybinds, video, preferences, etc.', true, 'settings/settings')">
									<Panel class="vertical-align-center flow-down">
										<Label class="mainmenu__nav__btn__text" text="Settings" />
										<Label class="mainmenu__nav__btn__small-text" text="Tweak keybinds, video, preferences, etc." />
									</Panel>
								</Button>
								<Button class="mainmenu__nav__btn" onactivate="MainMenu.onQuitButtonPressed()">
									<Panel class="vertical-align-center flow-down">
										<Label class="mainmenu__nav__btn__text MainMenuModeOnly" text="Quit Game" />
										<Label class="mainmenu__nav__btn__small-text MainMenuModeOnly" text="Leave to test another day" />
										<Label class="mainmenu__nav__btn__text PauseMenuModeOnly" text="Exit" />
										<Label class="mainmenu__nav__btn__small-text PauseMenuModeOnly" text="Return to the main menu or quit the game" />
									</Panel>
								</Button>
							</Panel>
							<VersionInfo class="mainmenu__version" />
						</Panel>
					</Panel>

					<Panel id="ContinueBox" class="mainmenu__display-box">
						<Panel>
							<Image
								class="mainmenu__display-box__img"
								src="file://{images}/menu/p2ce/random4.png"
								textureheight="1920"
								texturewidth="1080"
								scaling="stretch-to-cover-preserve-aspect"
							/>
							<Image
								class="mainmenu__display-box__logo"
								src="file://{images}/menu/p2ce/logo.png"
								textureheight="64"
								texturewidth="64"
								scaling="stretch-to-cover-preserve-aspect"
							/>
						</Panel>
						<Panel class="mainmenu__display-box__details">
							<Label class="mainmenu__display-box__head" text="[PH] Head" />
							<Label class="mainmenu__display-box__tagline" text="[PH] Tagline" />
						</Panel>
					</Panel>

					<Panel id="PageWrap" class="mainmenu__normal-page-container">
						<Label id="PageHeadline" class="mainmenu__page-head" text="[PH] Page Headline" />
						<Label id="PageTagline" class="mainmenu__page-tagline" text="[PH] Page Tagline" />

						<Panel id="PageInsert" class="fill-width fill-height" />

						<Panel class="mainmenu__page-actions">
							<Button class="button-mono" onactivate="MainMenu.navigateBack()">
								<Label class="button-mono__text" text="Back" />
							</Button>
						</Panel>
					</Panel>

				</Panel>
			</Panel>
		</Panel>

		<!-- Make sure these are at the bottom to get the z-order right -->
		<PopupManager id="PopupManager" onpopupsdismissed="" />
		<ContextMenuManager id="ContextMenuManager" />
		<TooltipManager id="TooltipManager" hittest="false" />

		<!-- Doesn't actually include the notifications, but we use its position to figure out where to show them -->
		<Panel id="SteamNotificationsPlaceholder" hittest="false" />
	</MainMenu>
</root>
